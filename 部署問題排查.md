# 部署問題排查指南

## 🔍 問題：上傳到 GitHub 後網站無法顯示

### 可能原因

1. **Cloudflare Pages 未自動觸發部署**
2. **部署失敗**
3. **瀏覽器快取問題**
4. **建置配置錯誤**

## ✅ 解決步驟

### 步驟 1：檢查 Cloudflare Dashboard

1. **訪問 Cloudflare Dashboard**
   ```
   https://dash.cloudflare.com/82ebeb1d91888e83e8e1b30eeb33d3c3/pages/view/flyjung168
   ```

2. **檢查部署狀態**
   - 進入 **「Deployments」** 標籤
   - 查看最新的部署記錄
   - 確認：
     - ✅ 部署狀態為 **「Success」** 或 **「Deployed」**
     - ✅ Commit SHA 為最新的 `c1d8f24`
     - ✅ 部署時間為最近幾分鐘

3. **如果沒有看到新部署**
   - 點擊 **「Retry deployment」** 或 **「Redeploy」**
   - 選擇最新的提交 `c1d8f24`

### 步驟 2：檢查建置配置

在 Cloudflare Pages 設定中確認：

- **Framework preset**: `None` 或 `Static`
- **Build command**: （留空）
- **Build output directory**: `/`（根目錄）
- **Root directory**: `/`（根目錄）

### 步驟 3：檢查 GitHub 連接

1. **確認 GitHub 倉庫連接**
   - 在 Cloudflare Pages 設定中
   - 確認已連接到 `sky770825/junyang666`
   - 確認分支設定為 `main`

2. **檢查 GitHub 上的 Check Runs**
   - 訪問：https://github.com/sky770825/junyang666/commits/main
   - 查看最新提交 `c1d8f24`
   - 確認是否有 **「Cloudflare Pages」** 的 check run
   - 狀態應該是 **「Success」**（綠色勾勾）

### 步驟 4：清除快取

1. **瀏覽器快取**
   - 按 `Ctrl+Shift+R`（Windows）或 `Cmd+Shift+R`（Mac）強制重新整理
   - 或清除瀏覽器快取

2. **Cloudflare 快取**
   - 在 Cloudflare Dashboard 中
   - 進入 **「Caching」** → **「Purge Everything」**
   - 清除所有快取

### 步驟 5：手動觸發部署

如果自動部署沒有觸發，可以手動觸發：

1. **在 Cloudflare Dashboard**
   - 進入專案設定
   - 點擊 **「Retry deployment」**
   - 選擇最新的提交

2. **或使用 Wrangler CLI**（如果有安裝）
   ```bash
   wrangler pages deploy . --project-name=flyjung168
   ```

## 🔧 常見問題

### Q1: 為什麼部署後網站還是舊版本？

**A:** 可能是快取問題
- 清除瀏覽器快取（Ctrl+Shift+R）
- 清除 Cloudflare 快取
- 等待幾分鐘讓 CDN 更新

### Q2: 為什麼部署失敗？

**A:** 檢查建置日誌
- 在 Cloudflare Dashboard 中查看建置日誌
- 確認沒有錯誤訊息
- 確認所有檔案都已正確拉取

### Q3: 為什麼某些檔案無法載入？

**A:** 檢查檔案路徑
- 確認所有檔案都在根目錄
- 確認相對路徑正確
- 檢查瀏覽器 Console 是否有 404 錯誤

## 📋 檢查清單

請確認以下項目：

- [ ] GitHub 倉庫已推送最新程式碼（✅ 已確認：c1d8f24）
- [ ] Cloudflare Pages 已連接 GitHub 倉庫
- [ ] 分支設定為 `main`
- [ ] 建置配置正確（無需建置命令）
- [ ] 最新部署的 Commit SHA 為 `c1d8f24`
- [ ] 部署狀態為「Success」
- [ ] 部署時間為最近幾分鐘
- [ ] 已清除瀏覽器快取
- [ ] 已清除 Cloudflare 快取
- [ ] 網站可以正常訪問
- [ ] 所有功能正常運作

## 🆘 如果問題仍然存在

1. **檢查瀏覽器 Console**
   - 打開開發者工具（F12）
   - 查看 Console 標籤
   - 查看 Network 標籤
   - 記錄所有錯誤訊息

2. **檢查部署日誌**
   - 在 Cloudflare Dashboard 中查看建置日誌
   - 確認是否有錯誤訊息

3. **檢查檔案是否存在**
   - 確認 `index.html` 在根目錄
   - 確認 `property-detail.html` 在根目錄
   - 確認所有 JS 檔案都在正確位置

4. **聯繫支援**
   - 如果問題持續，請提供：
     - 瀏覽器 Console 的錯誤訊息
     - Cloudflare 建置日誌
     - 具體無法顯示的頁面或功能
